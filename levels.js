function loadLevel1() {
    createPlayer(1280, 55, Math.PI / 2);
    TH.addFloor(1250, TH.floorY, 1250, 2500, 2500, 'floor.png');
    TH.addFloor(1250, -TH.floorY, 1250, 2500, 2500, 'ceiling.png');
    addTorch(1570, 250);
    addTorch(1570, 360);
    addSlug(900, -25, 200);
    addSlug(910, -25, 200);
    addSlug(920, -25, 200);
    TH.addAnimatedPlane({x: 550, y: 330}, {x: 650, y: 330}, 10, 80, 'fan.png', 2, 1, 2, 100);
    addLadder(1030, 530);
    addEKG(1400, 600);
}

function loadLevel2() {
    var shortHeight = 60;
    var tallHeight = 3 * shortHeight;
    var shortWalls = ['cave_wall1.png', 'cave_wall2.png'];
    var tallWalls = ['large_wall1.png', 'large_wall2.png', 'large_wall3.png'];
    createPlayer(580, 90, 1.36);
    var caves = {"0":{"x":556,"y":39,"next":"1","previous":"51"},"1":{"x":502,"y":70,"next":"2","previous":"0"},"2":{"x":489,"y":123,"next":"3","previous":"1"},"3":{"x":504,"y":172,"next":"4","previous":"2"},"4":{"x":530,"y":220,"next":"5","previous":"3"},"5":{"x":546,"y":259,"next":"6","previous":"4"},"6":{"x":551,"y":302,"next":"7","previous":"5"},"7":{"x":528,"y":337,"next":"8","previous":"6"},"8":{"x":481,"y":344,"next":"9","previous":"7"},"9":{"x":414,"y":332,"next":"10","previous":"8"},"10":{"x":375,"y":299,"next":"11","previous":"9"},"11":{"x":342,"y":258,"next":"12","previous":"10"},"12":{"x":296,"y":231,"next":"13","previous":"11"},"13":{"x":231,"y":244,"next":"15","previous":"12"},"15":{"x":177,"y":297,"next":"16","previous":"13"},"16":{"x":178,"y":342,"next":"17","previous":"15"},"17":{"x":190,"y":386,"next":"18","previous":"16"},"18":{"x":210,"y":432,"next":"19","previous":"17"},"19":{"x":196,"y":472,"next":"20","previous":"18"},"20":{"x":168,"y":527,"next":"21","previous":"19"},"21":{"x":136,"y":545,"next":"22","previous":"20"},"22":{"x":110,"y":607,"next":"23","previous":"21"},"23":{"x":127,"y":651,"next":"24","previous":"22"},"24":{"x":144,"y":679,"next":"25","previous":"23"},"25":{"x":189,"y":698,"next":"26","previous":"24"},"26":{"x":254,"y":707,"next":"27","previous":"25"},"27":{"x":296,"y":704,"next":"28","previous":"26"},"28":{"x":333,"y":675,"next":"29","previous":"27"},"29":{"x":355,"y":630,"next":"30","previous":"28"},"30":{"x":375,"y":587,"next":"31","previous":"29"},"31":{"x":405,"y":537,"next":"32","previous":"30"},"32":{"x":438,"y":519,"next":"33","previous":"31"},"33":{"x":493,"y":521,"next":"34","previous":"32"},"34":{"x":525,"y":547,"next":"35","previous":"33"},"35":{"x":538,"y":598,"next":"36","previous":"34"},"36":{"x":543,"y":638,"next":"37","previous":"35"},"37":{"x":557,"y":675,"next":"38","previous":"36"},"38":{"x":587,"y":686,"next":"39","previous":"37"},"39":{"x":635,"y":687,"next":"40","previous":"38"},"40":{"x":673,"y":673,"next":"41","previous":"39"},"41":{"x":714,"y":648,"next":"42","previous":"40"},"42":{"x":731,"y":609,"next":"43","previous":"41"},"43":{"x":747,"y":564,"next":"44","previous":"42"},"44":{"x":752,"y":506,"next":"45","previous":"43"},"45":{"x":769,"y":470,"next":"46","previous":"44"},"46":{"x":807,"y":426,"next":"47","previous":"45"},"47":{"x":859,"y":404,"next":"48","previous":"46"},"48":{"x":898,"y":405,"next":"49","previous":"47"},"49":{"x":945,"y":428,"next":"50","previous":"48"},"50":{"x":984,"y":456,"next":-1,"previous":"49"},"51":{"x":609,"y":39,"next":"0","previous":"52"},"52":{"x":651,"y":66,"next":"51","previous":"53"},"53":{"x":686,"y":105,"next":"52","previous":"54"},"54":{"x":686,"y":158,"next":"53","previous":"55"},"55":{"x":684,"y":214,"next":"54","previous":"56"},"56":{"x":689,"y":259,"next":"55","previous":"57"},"57":{"x":713,"y":286,"next":"56","previous":"59"},"59":{"x":747,"y":313,"next":"57","previous":"60"},"60":{"x":788,"y":313,"next":"59","previous":"61"},"61":{"x":839,"y":299,"next":"60","previous":"62"},"62":{"x":893,"y":302,"next":"61","previous":"63"},"63":{"x":936,"y":319,"next":"62","previous":"64"},"64":{"x":985,"y":341,"next":"63","previous":"65"},"65":{"x":1021,"y":388,"next":"64","previous":-1},"66":{"x":244,"y":534,"next":"67","previous":"72"},"67":{"x":206,"y":565,"next":"68","previous":"66"},"68":{"x":206,"y":601,"next":"69","previous":"67"},"69":{"x":237,"y":626,"next":"70","previous":"68"},"70":{"x":287,"y":617,"next":"71","previous":"69"},"71":{"x":302,"y":574,"next":"72","previous":"70"},"72":{"x":284,"y":534,"next":"66","previous":"71"}};
    var caveFloor = {"0":{"x":556,"y":39,"next":"1","previous":"51"},"1":{"x":502,"y":70,"next":"2","previous":"0"},"2":{"x":489,"y":123,"next":"3","previous":"1"},"3":{"x":504,"y":172,"next":"4","previous":"2"},"4":{"x":530,"y":220,"next":"5","previous":"3"},"5":{"x":546,"y":259,"next":"6","previous":"4"},"6":{"x":551,"y":302,"next":"7","previous":"5"},"7":{"x":528,"y":337,"next":"8","previous":"6"},"8":{"x":481,"y":344,"next":"9","previous":"7"},"9":{"x":414,"y":332,"next":"10","previous":"8"},"10":{"x":375,"y":299,"next":"11","previous":"9"},"11":{"x":342,"y":258,"next":"12","previous":"10"},"12":{"x":296,"y":231,"next":"13","previous":"11"},"13":{"x":231,"y":244,"next":"15","previous":"12"},"15":{"x":177,"y":297,"next":"16","previous":"13"},"16":{"x":178,"y":342,"next":"17","previous":"15"},"17":{"x":190,"y":386,"next":"18","previous":"16"},"18":{"x":210,"y":432,"next":"19","previous":"17"},"19":{"x":196,"y":472,"next":"20","previous":"18"},"20":{"x":168,"y":527,"next":"21","previous":"19"},"21":{"x":136,"y":545,"next":"22","previous":"20"},"22":{"x":110,"y":607,"next":"23","previous":"21"},"23":{"x":127,"y":651,"next":"24","previous":"22"},"24":{"x":144,"y":679,"next":"25","previous":"23"},"25":{"x":189,"y":698,"next":"26","previous":"24"},"26":{"x":254,"y":707,"next":"27","previous":"25"},"27":{"x":296,"y":704,"next":"28","previous":"26"},"28":{"x":333,"y":675,"next":"29","previous":"27"},"29":{"x":355,"y":630,"next":"30","previous":"28"},"30":{"x":375,"y":587,"next":"31","previous":"29"},"31":{"x":405,"y":537,"next":"32","previous":"30"},"32":{"x":438,"y":519,"next":"33","previous":"31"},"33":{"x":493,"y":521,"next":"34","previous":"32"},"34":{"x":525,"y":547,"next":"35","previous":"33"},"35":{"x":538,"y":598,"next":"36","previous":"34"},"36":{"x":543,"y":638,"next":"37","previous":"35"},"37":{"x":557,"y":675,"next":"38","previous":"36"},"38":{"x":587,"y":686,"next":"39","previous":"37"},"39":{"x":635,"y":687,"next":"40","previous":"38"},"40":{"x":673,"y":673,"next":"41","previous":"39"},"41":{"x":714,"y":648,"next":"42","previous":"40"},"42":{"x":731,"y":609,"next":"43","previous":"41"},"43":{"x":747,"y":564,"next":"44","previous":"42"},"44":{"x":752,"y":506,"next":"45","previous":"43"},"45":{"x":769,"y":470,"next":"46","previous":"44"},"46":{"x":807,"y":426,"next":"47","previous":"45"},"47":{"x":859,"y":404,"next":"48","previous":"46"},"48":{"x":898,"y":405,"next":"49","previous":"47"},"49":{"x":945,"y":428,"next":"50","previous":"48"},"50":{"x":984,"y":456,"next":"65","previous":"49"},"51":{"x":609,"y":39,"next":"0","previous":"52"},"52":{"x":651,"y":66,"next":"51","previous":"53"},"53":{"x":686,"y":105,"next":"52","previous":"54"},"54":{"x":686,"y":158,"next":"53","previous":"55"},"55":{"x":684,"y":214,"next":"54","previous":"56"},"56":{"x":689,"y":259,"next":"55","previous":"57"},"57":{"x":713,"y":286,"next":"56","previous":"59"},"59":{"x":747,"y":313,"next":"57","previous":"60"},"60":{"x":788,"y":313,"next":"59","previous":"61"},"61":{"x":839,"y":299,"next":"60","previous":"62"},"62":{"x":893,"y":302,"next":"61","previous":"63"},"63":{"x":936,"y":319,"next":"62","previous":"64"},"64":{"x":985,"y":341,"next":"63","previous":"65"},"65":{"x":1021,"y":388,"next":"64","previous":"50"}};
    addWallShape(0, 0, 0, shortHeight, caves, shortWalls, true);
    addTorch(710, 550);
    addTorch(550, 550);
    addAnimatedWall({x: 660, y: 600}, {x: 580, y: 600}, 0, 60, 'corpse.png', 2, 1, 2, 800, true);
    addTorch(230, 400);
    addTorch(360, 320);
    addAnimatedWall({x: 230, y: 330}, {x: 290, y: 280}, 0, 60, 'corpse.png', 2, 1, 2, 800, true);
    addTorch(550, 210);
    addTorch(660, 200);
    addAnimatedWall({x: 530, y: 90}, {x: 610, y: 65}, 0, 60, 'rack.png', 1, 1, 1, 800, true);
    addPebble(460, 480);
    var pebblePoints = [[572.1014873141934,457.3279744193968],[766.458371329555,353.7256005079493],[390.62741918005275,498.87401370329195],[1077.234388670392,481.0277176505322],[1459.2279219518541,414.8712050921179],[1955.9204337131844,389.4402719578026],[2117.265836065878,499.0333543074989],[2020.0745572148412,556.6049299040568],[2084.499846859668,716.445404209648],[2102.819900010844,911.9152220579261],[1934.6649189790178,958.562751066596],[1934.5643102235433,1062.161612539446],[1872.3688340118154,1256.6619769959884],[1940.4648146423785,1428.1270872718928],[1797.8240571400952,1381.7114138947422],[1815.404507029624,1586.051058787928],[1742.8167186099595,1728.8009592586282],[1766.9802204442096,1899.7461809787076],[1685.0726856632143,2049.218902611167],[1802.6945007665054,2141.440030772875],[1752.7425590553876,2241.464045485782],[1862.0124840373703,2263.633763319063],[1803.5439824863224,2367.735944998179],[1736.126366362925,2388.6334121730974],[1616.0909603226582,2449.95236639829],[1584.1856298126304,2330.222363980318],[1463.9502800332687,2193.5815146408563],[1886.820544503244,1420.967423178077],[1692.0322189620322,1333.193537847115],[1921.9367432895767,1000.4542665723221]];
    pebblePoints.forEach(function(point){addPebble(point[0], point[1])});
    var outerWalls = {"26":{"x":1677,"y":363,"next":"72","previous":-1},"27":{"x":1659,"y":414,"next":-1,"previous":"71"},"50":{"x":984,"y":456,"next":"99","previous":-1},"65":{"x":1021,"y":388,"next":-1,"previous":"110"},"66":{"x":1875,"y":566,"next":"67","previous":"159"},"67":{"x":1850,"y":520,"next":"68","previous":"66"},"68":{"x":1834,"y":484,"next":"69","previous":"67"},"69":{"x":1789,"y":456,"next":"70","previous":"68"},"70":{"x":1742,"y":431,"next":"71","previous":"69"},"71":{"x":1686,"y":434,"next":"27","previous":"70"},"72":{"x":1695,"y":338,"next":"73","previous":"26"},"73":{"x":1801,"y":336,"next":"74","previous":"72"},"74":{"x":1864,"y":321,"next":"133","previous":"73"},"99":{"x":958,"y":520,"next":"100","previous":"50"},"100":{"x":931,"y":588,"next":"101","previous":"99"},"101":{"x":918,"y":646,"next":"102","previous":"100"},"102":{"x":918,"y":718,"next":"103","previous":"101"},"103":{"x":929,"y":797,"next":"104","previous":"102"},"104":{"x":913,"y":870,"next":"105","previous":"103"},"105":{"x":878,"y":927,"next":"106","previous":"104"},"106":{"x":854,"y":978,"next":"107","previous":"105"},"107":{"x":821,"y":999,"next":"108","previous":"106"},"108":{"x":765,"y":1018,"next":"109","previous":"107"},"109":{"x":715,"y":1030,"next":"134","previous":"108"},"110":{"x":1054,"y":296,"next":"65","previous":"111"},"111":{"x":1051,"y":249,"next":"110","previous":"112"},"112":{"x":1032,"y":189,"next":"111","previous":"113"},"113":{"x":1005,"y":138,"next":"112","previous":"114"},"114":{"x":959,"y":103,"next":"113","previous":"115"},"115":{"x":910,"y":68,"next":"114","previous":"116"},"116":{"x":871,"y":32,"next":"115","previous":"119"},"119":{"x":963,"y":21,"next":"116","previous":"120"},"120":{"x":1043,"y":16,"next":"119","previous":"121"},"121":{"x":1117,"y":24,"next":"120","previous":"122"},"122":{"x":1177,"y":38,"next":"121","previous":"123"},"123":{"x":1232,"y":58,"next":"122","previous":"124"},"124":{"x":1288,"y":77,"next":"123","previous":"125"},"125":{"x":1358,"y":82,"next":"124","previous":"126"},"126":{"x":1435,"y":66,"next":"125","previous":"127"},"127":{"x":1538,"y":46,"next":"126","previous":"128"},"128":{"x":1642,"y":39,"next":"127","previous":"129"},"129":{"x":1730,"y":55,"next":"128","previous":"130"},"130":{"x":1783,"y":86,"next":"129","previous":"131"},"131":{"x":1843,"y":162,"next":"130","previous":"132"},"132":{"x":1889,"y":232,"next":"131","previous":"133"},"133":{"x":1887,"y":280,"next":"132","previous":"74"},"134":{"x":640,"y":1082,"next":"135","previous":"109"},"135":{"x":664,"y":1139,"next":"136","previous":"134"},"136":{"x":712,"y":1188,"next":"137","previous":"135"},"137":{"x":764,"y":1209,"next":"138","previous":"136"},"138":{"x":861,"y":1219,"next":"139","previous":"137"},"139":{"x":918,"y":1222,"next":"140","previous":"138"},"140":{"x":992,"y":1223,"next":"141","previous":"139"},"141":{"x":1056,"y":1219,"next":"142","previous":"140"},"142":{"x":1114,"y":1196,"next":"143","previous":"141"},"143":{"x":1177,"y":1162,"next":"144","previous":"142"},"144":{"x":1233,"y":1133,"next":"145","previous":"143"},"145":{"x":1287,"y":1102,"next":"146","previous":"144"},"146":{"x":1374,"y":1076,"next":"147","previous":"145"},"147":{"x":1443,"y":1056,"next":"148","previous":"146"},"148":{"x":1539,"y":1041,"next":-1,"previous":"147"},"149":{"x":1630,"y":1035,"next":"150","previous":-1},"150":{"x":1684,"y":1020,"next":"151","previous":"149"},"151":{"x":1754,"y":1004,"next":"152","previous":"150"},"152":{"x":1813,"y":934,"next":"153","previous":"151"},"153":{"x":1837,"y":864,"next":"156","previous":"152"},"156":{"x":1858,"y":804,"next":"157","previous":"153"},"157":{"x":1877,"y":740,"next":"158","previous":"156"},"158":{"x":1896,"y":680,"next":"159","previous":"157"},"159":{"x":1899,"y":603,"next":"66","previous":"158"}};
    addWallShape(0, 0, 0, tallHeight, outerWalls, tallWalls, true);
    TH.addFloorFromPoints(0, TH.floorY, 0, caveFloor, 'floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 0, caveFloor, 'ceiling.png');
    var outerFloor = {"26":{"x":1677,"y":363,"next":"72","previous":"27"},"27":{"x":1659,"y":414,"next":"26","previous":"71"},"50":{"x":984,"y":456,"next":"99","previous":"65"},"65":{"x":1021,"y":388,"next":"50","previous":"110"},"66":{"x":1875,"y":566,"next":"67","previous":"159"},"67":{"x":1850,"y":520,"next":"68","previous":"66"},"68":{"x":1834,"y":484,"next":"69","previous":"67"},"69":{"x":1789,"y":456,"next":"70","previous":"68"},"70":{"x":1742,"y":431,"next":"71","previous":"69"},"71":{"x":1686,"y":434,"next":"27","previous":"70"},"72":{"x":1695,"y":338,"next":"73","previous":"26"},"73":{"x":1801,"y":336,"next":"74","previous":"72"},"74":{"x":1864,"y":321,"next":"133","previous":"73"},"99":{"x":958,"y":520,"next":"100","previous":"50"},"100":{"x":931,"y":588,"next":"101","previous":"99"},"101":{"x":918,"y":646,"next":"102","previous":"100"},"102":{"x":918,"y":718,"next":"103","previous":"101"},"103":{"x":929,"y":797,"next":"104","previous":"102"},"104":{"x":913,"y":870,"next":"105","previous":"103"},"105":{"x":878,"y":927,"next":"106","previous":"104"},"106":{"x":854,"y":978,"next":"107","previous":"105"},"107":{"x":821,"y":999,"next":"108","previous":"106"},"108":{"x":765,"y":1018,"next":"109","previous":"107"},"109":{"x":715,"y":1030,"next":"134","previous":"108"},"110":{"x":1054,"y":296,"next":"65","previous":"111"},"111":{"x":1051,"y":249,"next":"110","previous":"112"},"112":{"x":1032,"y":189,"next":"111","previous":"113"},"113":{"x":1005,"y":138,"next":"112","previous":"114"},"114":{"x":959,"y":103,"next":"113","previous":"115"},"115":{"x":910,"y":68,"next":"114","previous":"116"},"116":{"x":871,"y":32,"next":"115","previous":"119"},"119":{"x":963,"y":21,"next":"116","previous":"120"},"120":{"x":1043,"y":16,"next":"119","previous":"121"},"121":{"x":1117,"y":24,"next":"120","previous":"122"},"122":{"x":1177,"y":38,"next":"121","previous":"123"},"123":{"x":1232,"y":58,"next":"122","previous":"124"},"124":{"x":1288,"y":77,"next":"123","previous":"125"},"125":{"x":1358,"y":82,"next":"124","previous":"126"},"126":{"x":1435,"y":66,"next":"125","previous":"127"},"127":{"x":1538,"y":46,"next":"126","previous":"128"},"128":{"x":1642,"y":39,"next":"127","previous":"129"},"129":{"x":1730,"y":55,"next":"128","previous":"130"},"130":{"x":1783,"y":86,"next":"129","previous":"131"},"131":{"x":1843,"y":162,"next":"130","previous":"132"},"132":{"x":1889,"y":232,"next":"131","previous":"133"},"133":{"x":1908,"y":313,"next":"132","previous":"74"},"134":{"x":640,"y":1082,"next":"135","previous":"109"},"135":{"x":664,"y":1139,"next":"136","previous":"134"},"136":{"x":712,"y":1188,"next":"137","previous":"135"},"137":{"x":764,"y":1209,"next":"138","previous":"136"},"138":{"x":861,"y":1219,"next":"139","previous":"137"},"139":{"x":918,"y":1222,"next":"140","previous":"138"},"140":{"x":992,"y":1223,"next":"141","previous":"139"},"141":{"x":1056,"y":1219,"next":"142","previous":"140"},"142":{"x":1114,"y":1196,"next":"143","previous":"141"},"143":{"x":1177,"y":1162,"next":"144","previous":"142"},"144":{"x":1233,"y":1133,"next":"145","previous":"143"},"145":{"x":1287,"y":1102,"next":"146","previous":"144"},"146":{"x":1374,"y":1076,"next":"147","previous":"145"},"147":{"x":1443,"y":1056,"next":"148","previous":"146"},"148":{"x":1539,"y":1041,"next":"149","previous":"147"},"149":{"x":1630,"y":1035,"next":"150","previous":"148"},"150":{"x":1684,"y":1020,"next":"151","previous":"149"},"151":{"x":1754,"y":1004,"next":"152","previous":"150"},"152":{"x":1813,"y":934,"next":"153","previous":"151"},"153":{"x":1837,"y":864,"next":"156","previous":"152"},"156":{"x":1858,"y":804,"next":"157","previous":"153"},"157":{"x":1877,"y":740,"next":"158","previous":"156"},"158":{"x":1896,"y":680,"next":"159","previous":"157"},"159":{"x":1899,"y":603,"next":"66","previous":"158"}};
    TH.addFloorFromPoints(0, TH.floorY * 3, 0, outerFloor, 'ceiling.png');
    TH.addFloorFromPoints(0, TH.floorY * -3, 0, outerFloor, 'ceiling.png');
    var upperWalls = {"26":{"x":1677,"y":363,"next":"27","previous":-1},"27":{"x":1659,"y":414,"next":-1,"previous":"26"},"50":{"x":984,"y":456,"next":-1,"previous":"65"},"65":{"x":1021,"y":388,"next":"50","previous":-1},"148":{"x":1539,"y":1041,"next":-1,"previous":"149"},"149":{"x":1630,"y":1035,"next":"148","previous":-1}};
    addWallShape(0, TH.floorY * -2, 0, shortHeight, upperWalls, shortWalls, false);
    var pillars = {"77":{"x":1539,"y":722,"next":"78","previous":"81"},"78":{"x":1520,"y":758,"next":"79","previous":"77"},"79":{"x":1556,"y":787,"next":"80","previous":"78"},"80":{"x":1585,"y":765,"next":"81","previous":"79"},"81":{"x":1587,"y":721,"next":"77","previous":"80"},"82":{"x":1067,"y":724,"next":"83","previous":"86"},"83":{"x":1045,"y":762,"next":"84","previous":"82"},"84":{"x":1075,"y":779,"next":"85","previous":"83"},"85":{"x":1109,"y":768,"next":"86","previous":"84"},"86":{"x":1113,"y":722,"next":"82","previous":"85"},"87":{"x":1400,"y":245,"next":"88","previous":"91"},"88":{"x":1387,"y":281,"next":"89","previous":"87"},"89":{"x":1407,"y":319,"next":"90","previous":"88"},"90":{"x":1453,"y":312,"next":"91","previous":"89"},"91":{"x":1458,"y":250,"next":"87","previous":"90"}};
    addWallShape(0, 0, 0, tallHeight, pillars, tallWalls, true);
    var bridge = {"9":{"x":1083,"y":409,"next":"10","previous":"65"},"10":{"x":1143,"y":451,"next":"11","previous":"9"},"11":{"x":1159,"y":487,"next":"12","previous":"10"},"12":{"x":1187,"y":532,"next":"13","previous":"11"},"13":{"x":1240,"y":545,"next":"14","previous":"12"},"14":{"x":1288,"y":544,"next":"15","previous":"13"},"15":{"x":1330,"y":531,"next":"16","previous":"14"},"16":{"x":1373,"y":511,"next":"17","previous":"15"},"17":{"x":1401,"y":485,"next":"18","previous":"16"},"18":{"x":1424,"y":438,"next":"19","previous":"17"},"19":{"x":1443,"y":394,"next":"20","previous":"18"},"20":{"x":1473,"y":352,"next":"21","previous":"19"},"21":{"x":1503,"y":333,"next":"22","previous":"20"},"22":{"x":1544,"y":323,"next":"23","previous":"21"},"23":{"x":1582,"y":324,"next":"24","previous":"22"},"24":{"x":1607,"y":332,"next":"25","previous":"23"},"25":{"x":1643,"y":343,"next":"26","previous":"24"},"26":{"x":1677,"y":363,"next":-1,"previous":"25"},"27":{"x":1659,"y":414,"next":"28","previous":-1},"28":{"x":1605,"y":410,"next":"29","previous":"27"},"29":{"x":1568,"y":402,"next":"31","previous":"28"},"31":{"x":1524,"y":423,"next":"32","previous":"29"},"32":{"x":1492,"y":465,"next":"33","previous":"31"},"33":{"x":1472,"y":508,"next":"34","previous":"32"},"34":{"x":1453,"y":542,"next":"35","previous":"33"},"35":{"x":1406,"y":581,"next":"36","previous":"34"},"36":{"x":1360,"y":598,"next":"37","previous":"35"},"37":{"x":1302,"y":612,"next":"38","previous":"36"},"38":{"x":1240,"y":608,"next":"39","previous":"37"},"39":{"x":1174,"y":597,"next":"40","previous":"38"},"40":{"x":1131,"y":579,"next":"41","previous":"39"},"41":{"x":1106,"y":526,"next":"42","previous":"40"},"42":{"x":1048,"y":478,"next":"50","previous":"41"},"50":{"x":984,"y":456,"next":-1,"previous":"42"},"65":{"x":1021,"y":388,"next":"9","previous":-1},"148":{"x":1539,"y":1041,"next":"160","previous":-1},"149":{"x":1630,"y":1035,"next":-1,"previous":"161"},"160":{"x":1524,"y":991,"next":162,"previous":"148"},"161":{"x":1617,"y":970,"next":"149","previous":162},"162":{"x":1555,"y":947,"next":"161","previous":"160"}};
    var bridgeFloor = {"9":{"x":1083,"y":409,"next":10,"previous":"65"},"10":{"x":1143,"y":451,"next":11,"previous":"9"},"11":{"x":1159,"y":487,"next":12,"previous":10},"12":{"x":1187,"y":532,"next":13,"previous":11},"13":{"x":1240,"y":545,"next":14,"previous":12},"14":{"x":1288,"y":544,"next":15,"previous":13},"15":{"x":1330,"y":531,"next":16,"previous":14},"16":{"x":1373,"y":511,"next":17,"previous":15},"17":{"x":1401,"y":485,"next":18,"previous":16},"18":{"x":1424,"y":438,"next":19,"previous":17},"19":{"x":1443,"y":394,"next":20,"previous":18},"20":{"x":1473,"y":352,"next":21,"previous":19},"21":{"x":1503,"y":333,"next":22,"previous":20},"22":{"x":1544,"y":323,"next":23,"previous":21},"23":{"x":1582,"y":324,"next":24,"previous":22},"24":{"x":1607,"y":332,"next":25,"previous":23},"25":{"x":1643,"y":343,"next":26,"previous":24},"26":{"x":1677,"y":363,"next":27,"previous":25},"27":{"x":1659,"y":414,"next":28,"previous":26},"28":{"x":1605,"y":410,"next":29,"previous":27},"29":{"x":1568,"y":402,"next":31,"previous":28},"31":{"x":1524,"y":423,"next":32,"previous":29},"32":{"x":1492,"y":465,"next":33,"previous":31},"33":{"x":1472,"y":508,"next":34,"previous":32},"34":{"x":1453,"y":542,"next":35,"previous":33},"35":{"x":1406,"y":581,"next":36,"previous":34},"36":{"x":1360,"y":598,"next":37,"previous":35},"37":{"x":1302,"y":612,"next":38,"previous":36},"38":{"x":1240,"y":608,"next":39,"previous":37},"39":{"x":1174,"y":597,"next":40,"previous":38},"40":{"x":1131,"y":579,"next":41,"previous":39},"41":{"x":1106,"y":526,"next":42,"previous":40},"42":{"x":1048,"y":478,"next":"50","previous":41},"50":{"x":984,"y":456,"next":"65","previous":42},"65":{"x":1021,"y":388,"next":"9","previous":"50"}};
    var balconyFloor = {"148":{"x":1539,"y":1041,"next":"160","previous":"149"},"149":{"x":1630,"y":1035,"next":"148","previous":"161"},"160":{"x":1524,"y":991,"next":162,"previous":"148"},"161":{"x":1617,"y":970,"next":"149","previous":162},"162":{"x":1555,"y":947,"next":"161","previous":"160"}};
    addWallShape(0, TH.floorY * 2, 0, shortHeight, bridge, shortWalls, true);
    TH.addFloorFromPoints(0, TH.floorY, 0, bridgeFloor, 'floor.png');
    TH.addFloorFromPoints(0, TH.floorY, 0, balconyFloor, 'floor.png');
    for (var x = 1000; x < 1500; x += 70) 
        for (var z = 700; z < 1000; z += 70)
            addSlug(x, -85, z);
    for (var x = 1100; x < 1500; x += 70) 
        for (var z = 100; z < 400; z += 70)
            addSlug(x, -85, z);
    for (var x = 1000; x < 1800; x += 70)
        for (var z = 100; z < 1000; z += 70)
            addStalagtite(x + 100 - Math.random() * 50, 75, z + 100 - Math.random() * 50);
    
    var cave2 = {"26":{"x":1677,"y":363,"next":"68","previous":-1},"27":{"x":1659,"y":414,"next":"66","previous":-1},"66":{"x":1719,"y":413,"next":"67","previous":"27"},"67":{"x":1769,"y":431,"next":"83","previous":"66"},"68":{"x":1726,"y":372,"next":"69","previous":"26"},"69":{"x":1786,"y":385,"next":"70","previous":"68"},"70":{"x":1822,"y":369,"next":"71","previous":"69"},"71":{"x":1863,"y":346,"next":"72","previous":"70"},"72":{"x":1881,"y":297,"next":"73","previous":"71"},"73":{"x":1903,"y":264,"next":"74","previous":"72"},"74":{"x":1951,"y":236,"next":"75","previous":"73"},"75":{"x":2012,"y":223,"next":"76","previous":"74"},"76":{"x":2063,"y":237,"next":"77","previous":"75"},"77":{"x":2104,"y":270,"next":"78","previous":"76"},"78":{"x":2142,"y":296,"next":"79","previous":"77"},"79":{"x":2190,"y":307,"next":"80","previous":"78"},"80":{"x":2220,"y":337,"next":"81","previous":"79"},"81":{"x":2235,"y":375,"next":"82","previous":"80"},"82":{"x":2225,"y":414,"next":"90","previous":"81"},"83":{"x":1811,"y":457,"next":"84","previous":"67"},"84":{"x":1853,"y":481,"next":"85","previous":"83"},"85":{"x":1864,"y":513,"next":"86","previous":"84"},"86":{"x":1889,"y":549,"next":"87","previous":"85"},"87":{"x":1922,"y":576,"next":"88","previous":"86"},"88":{"x":1947,"y":589,"next":"89","previous":"87"},"89":{"x":1966,"y":615,"next":-1,"previous":"88"},"90":{"x":2205,"y":448,"next":"91","previous":"82"},"91":{"x":2167,"y":483,"next":"92","previous":"90"},"92":{"x":2158,"y":531,"next":"93","previous":"91"},"93":{"x":2159,"y":572,"next":"94","previous":"92"},"94":{"x":2123,"y":587,"next":"95","previous":"93"},"95":{"x":2088,"y":614,"next":-1,"previous":"94"}};
    var cave2Floor = {"26":{"x":1677,"y":363,"next":"68","previous":"27"},"27":{"x":1659,"y":414,"next":"26","previous":"66"},"66":{"x":1719,"y":413,"next":"27","previous":"67"},"67":{"x":1769,"y":431,"next":"66","previous":"83"},"68":{"x":1726,"y":372,"next":"69","previous":"26"},"69":{"x":1786,"y":385,"next":"70","previous":"68"},"70":{"x":1822,"y":369,"next":"71","previous":"69"},"71":{"x":1863,"y":346,"next":"72","previous":"70"},"72":{"x":1881,"y":297,"next":"73","previous":"71"},"73":{"x":1903,"y":264,"next":"74","previous":"72"},"74":{"x":1951,"y":236,"next":"75","previous":"73"},"75":{"x":2012,"y":223,"next":"76","previous":"74"},"76":{"x":2063,"y":237,"next":"77","previous":"75"},"77":{"x":2104,"y":270,"next":"78","previous":"76"},"78":{"x":2142,"y":296,"next":"79","previous":"77"},"79":{"x":2190,"y":307,"next":"80","previous":"78"},"80":{"x":2220,"y":337,"next":"81","previous":"79"},"81":{"x":2235,"y":375,"next":"82","previous":"80"},"82":{"x":2225,"y":414,"next":"90","previous":"81"},"83":{"x":1811,"y":457,"next":"67","previous":"84"},"84":{"x":1853,"y":481,"next":"83","previous":"85"},"85":{"x":1864,"y":513,"next":"84","previous":"86"},"86":{"x":1889,"y":549,"next":"85","previous":"87"},"87":{"x":1922,"y":576,"next":"86","previous":"88"},"88":{"x":1947,"y":589,"next":"87","previous":"89"},"89":{"x":1966,"y":615,"next":"88","previous":"95"},"90":{"x":2205,"y":448,"next":"91","previous":"82"},"91":{"x":2167,"y":483,"next":"92","previous":"90"},"92":{"x":2158,"y":531,"next":"93","previous":"91"},"93":{"x":2159,"y":572,"next":"94","previous":"92"},"94":{"x":2123,"y":587,"next":"95","previous":"93"},"95":{"x":2088,"y":614,"next":"89","previous":"94"}};
    addWallShape(0, 0, 0, shortHeight, cave2, shortWalls, true);
    TH.addFloorFromPoints(0, TH.floorY, 0, cave2Floor, 'floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 0, cave2Floor, 'ceiling.png');
    addTorch(1890, 350);
    addTorch(2040, 350);
    addTorch(2150, 440);
    addAnimatedWall({x: 1920, y: 300}, {x: 2000, y: 300}, 0, 60, 'corpse.png', 2, 1, 2, 800, true);
    addAnimatedWall({x: 2100, y: 330}, {x: 2160, y: 380}, 0, 60, 'rack.png', 1, 1, 1, 800, true);
    var cave3 = {"89":{"x":1966,"y":615,"next":-1,"previous":"97"},"95":{"x":2088,"y":614,"next":"96","previous":-1},"96":{"x":2091,"y":666,"next":"98","previous":"95"},"97":{"x":1975,"y":666,"next":"89","previous":"151"},"98":{"x":2142,"y":693,"next":"99","previous":"96"},"99":{"x":2202,"y":707,"next":"100","previous":"98"},"100":{"x":2291,"y":704,"next":"101","previous":"99"},"101":{"x":2347,"y":722,"next":"102","previous":"100"},"102":{"x":2379,"y":760,"next":"103","previous":"101"},"103":{"x":2383,"y":811,"next":"104","previous":"102"},"104":{"x":2402,"y":856,"next":"105","previous":"103"},"105":{"x":2406,"y":918,"next":"106","previous":"104"},"106":{"x":2386,"y":962,"next":"107","previous":"105"},"107":{"x":2342,"y":993,"next":"108","previous":"106"},"108":{"x":2291,"y":1037,"next":"109","previous":"107"},"109":{"x":2226,"y":1029,"next":"110","previous":"108"},"110":{"x":2170,"y":1007,"next":"111","previous":"109"},"111":{"x":2124,"y":1008,"next":"112","previous":"110"},"112":{"x":2083,"y":1030,"next":"113","previous":"111"},"113":{"x":2043,"y":1075,"next":"114","previous":"112"},"114":{"x":2008,"y":1116,"next":"115","previous":"113"},"115":{"x":1950,"y":1123,"next":"116","previous":"114"},"116":{"x":1913,"y":1182,"next":"117","previous":"115"},"117":{"x":1901,"y":1229,"next":"118","previous":"116"},"118":{"x":1913,"y":1273,"next":"119","previous":"117"},"119":{"x":1945,"y":1308,"next":"120","previous":"118"},"120":{"x":1965,"y":1339,"next":"121","previous":"119"},"121":{"x":1973,"y":1390,"next":"122","previous":"120"},"122":{"x":1967,"y":1431,"next":"123","previous":"121"},"123":{"x":1944,"y":1472,"next":"124","previous":"122"},"124":{"x":1875,"y":1465,"next":"125","previous":"123"},"125":{"x":1849,"y":1503,"next":-1,"previous":"124"},"127":{"x":1758,"y":1447,"next":"128","previous":-1},"128":{"x":1758,"y":1410,"next":"129","previous":"127"},"129":{"x":1713,"y":1401,"next":"130","previous":"128"},"130":{"x":1657,"y":1377,"next":"131","previous":"129"},"131":{"x":1632,"y":1322,"next":"132","previous":"130"},"132":{"x":1635,"y":1269,"next":"133","previous":"131"},"133":{"x":1665,"y":1204,"next":163,"previous":"132"},"135":{"x":1720,"y":1130,"next":"136","previous":167},"136":{"x":1745,"y":1081,"next":"137","previous":"135"},"137":{"x":1774,"y":1026,"next":"152","previous":"136"},"148":{"x":1539,"y":1041,"next":-1,"previous":165},"149":{"x":1630,"y":1035,"next":167,"previous":-1},"150":{"x":1925,"y":779,"next":"151","previous":"155"},"151":{"x":1971,"y":738,"next":"97","previous":"150"},"152":{"x":1791,"y":986,"next":"153","previous":"137"},"153":{"x":1820,"y":939,"next":"154","previous":"152"},"154":{"x":1857,"y":891,"next":"155","previous":"153"},"155":{"x":1883,"y":821,"next":"150","previous":"154"},"163":{"x":1621,"y":1176,"next":166,"previous":"133"},"165":{"x":1545,"y":1100,"next":"148","previous":166},"166":{"x":1577,"y":1148,"next":165,"previous":163},"167":{"x":1658,"y":1084,"next":"135","previous":"149"},"168":{"x":2170,"y":816,"next":169,"previous":173},"169":{"x":2203,"y":775,"next":170,"previous":168},"170":{"x":2270,"y":774,"next":171,"previous":169},"171":{"x":2301,"y":822,"next":172,"previous":170},"172":{"x":2277,"y":876,"next":173,"previous":171},"173":{"x":2197,"y":885,"next":168,"previous":172}};
    var cave3Floor = {"89":{"x":1966,"y":615,"next":"95","previous":"97"},"95":{"x":2088,"y":614,"next":"96","previous":"89"},"96":{"x":2091,"y":666,"next":"98","previous":"95"},"97":{"x":1975,"y":666,"next":"89","previous":"151"},"98":{"x":2142,"y":693,"next":"99","previous":"96"},"99":{"x":2202,"y":707,"next":"100","previous":"98"},"100":{"x":2291,"y":704,"next":"101","previous":"99"},"101":{"x":2347,"y":722,"next":"102","previous":"100"},"102":{"x":2379,"y":760,"next":"103","previous":"101"},"103":{"x":2383,"y":811,"next":"104","previous":"102"},"104":{"x":2402,"y":856,"next":"105","previous":"103"},"105":{"x":2406,"y":918,"next":"106","previous":"104"},"106":{"x":2386,"y":962,"next":"107","previous":"105"},"107":{"x":2342,"y":993,"next":"108","previous":"106"},"108":{"x":2291,"y":1037,"next":"109","previous":"107"},"109":{"x":2226,"y":1029,"next":"110","previous":"108"},"110":{"x":2170,"y":1007,"next":"111","previous":"109"},"111":{"x":2124,"y":1008,"next":"112","previous":"110"},"112":{"x":2083,"y":1030,"next":"113","previous":"111"},"113":{"x":2043,"y":1075,"next":"114","previous":"112"},"114":{"x":2008,"y":1116,"next":"115","previous":"113"},"115":{"x":1950,"y":1123,"next":"116","previous":"114"},"116":{"x":1913,"y":1182,"next":"117","previous":"115"},"117":{"x":1901,"y":1229,"next":"118","previous":"116"},"118":{"x":1913,"y":1273,"next":"119","previous":"117"},"119":{"x":1945,"y":1308,"next":"120","previous":"118"},"120":{"x":1965,"y":1339,"next":"121","previous":"119"},"121":{"x":1973,"y":1390,"next":"122","previous":"120"},"122":{"x":1967,"y":1431,"next":"123","previous":"121"},"123":{"x":1944,"y":1472,"next":"124","previous":"122"},"124":{"x":1875,"y":1465,"next":"125","previous":"123"},"125":{"x":1849,"y":1503,"next":"127","previous":"124"},"127":{"x":1758,"y":1447,"next":"128","previous":"125"},"128":{"x":1758,"y":1410,"next":"129","previous":"127"},"129":{"x":1713,"y":1401,"next":"130","previous":"128"},"130":{"x":1657,"y":1377,"next":"131","previous":"129"},"131":{"x":1632,"y":1322,"next":"132","previous":"130"},"132":{"x":1635,"y":1269,"next":"133","previous":"131"},"133":{"x":1665,"y":1204,"next":163,"previous":"132"},"135":{"x":1720,"y":1130,"next":"136","previous":167},"136":{"x":1745,"y":1081,"next":"137","previous":"135"},"137":{"x":1774,"y":1026,"next":"152","previous":"136"},"148":{"x":1539,"y":1041,"next":"149","previous":165},"149":{"x":1630,"y":1035,"next":167,"previous":"148"},"150":{"x":1925,"y":779,"next":"151","previous":"155"},"151":{"x":1971,"y":738,"next":"97","previous":"150"},"152":{"x":1791,"y":986,"next":"153","previous":"137"},"153":{"x":1820,"y":939,"next":"154","previous":"152"},"154":{"x":1857,"y":891,"next":"155","previous":"153"},"155":{"x":1883,"y":821,"next":"150","previous":"154"},"163":{"x":1621,"y":1176,"next":166,"previous":"133"},"165":{"x":1545,"y":1100,"next":"148","previous":166},"166":{"x":1577,"y":1148,"next":165,"previous":163},"167":{"x":1658,"y":1084,"next":"135","previous":"149"}};
    addWallShape(0, 0, 0, shortHeight, cave3, shortWalls, true);
    TH.addFloorFromPoints(0, TH.floorY, 0, cave3Floor, 'floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 0, cave3Floor, 'ceiling.png');
    var bridge2 = {"125":{"x":1849,"y":1503,"next":"163","previous":-1},"127":{"x":1758,"y":1447,"next":-1,"previous":"171"},"163":{"x":1827,"y":1532,"next":"164","previous":"125"},"164":{"x":1825,"y":1560,"next":"165","previous":"163"},"165":{"x":1836,"y":1587,"next":"166","previous":"164"},"166":{"x":1858,"y":1616,"next":"167","previous":"165"},"167":{"x":1859,"y":1643,"next":"173","previous":"166"},"168":{"x":1774,"y":1647,"next":"169","previous":"191"},"169":{"x":1762,"y":1604,"next":"170","previous":"168"},"170":{"x":1750,"y":1559,"next":"171","previous":"169"},"171":{"x":1761,"y":1511,"next":"127","previous":"170"},"173":{"x":1851,"y":1683,"next":"174","previous":"167"},"174":{"x":1827,"y":1713,"next":"175","previous":"173"},"175":{"x":1786,"y":1748,"next":"176","previous":"174"},"176":{"x":1768,"y":1781,"next":"177","previous":"175"},"177":{"x":1769,"y":1815,"next":"178","previous":"176"},"178":{"x":1790,"y":1853,"next":"179","previous":"177"},"179":{"x":1801,"y":1881,"next":"180","previous":"178"},"180":{"x":1784,"y":1919,"next":"181","previous":"179"},"181":{"x":1760,"y":1950,"next":"182","previous":"180"},"182":{"x":1743,"y":1980,"next":"183","previous":"181"},"183":{"x":1737,"y":2023,"next":"192","previous":"182"},"184":{"x":1668,"y":2024,"next":"185","previous":"218"},"185":{"x":1672,"y":1969,"next":"186","previous":"184"},"186":{"x":1693,"y":1930,"next":"187","previous":"185"},"187":{"x":1720,"y":1877,"next":"188","previous":"186"},"188":{"x":1712,"y":1823,"next":"189","previous":"187"},"189":{"x":1703,"y":1779,"next":"190","previous":"188"},"190":{"x":1719,"y":1730,"next":"191","previous":"189"},"191":{"x":1749,"y":1695,"next":"168","previous":"190"},"192":{"x":1757,"y":2054,"next":"193","previous":"183"},"193":{"x":1785,"y":2076,"next":-1,"previous":"192"},"218":{"x":1624,"y":2057,"next":"184","previous":-1}};
    var cave4 = {"183":{"x":1737,"y":2023,"next":"192","previous":-1},"184":{"x":1668,"y":2024,"next":-1,"previous":"218"},"192":{"x":1740,"y":2063,"next":"193","previous":"183"},"193":{"x":1785,"y":2076,"next":"194","previous":"192"},"194":{"x":1839,"y":2083,"next":"195","previous":"193"},"195":{"x":1892,"y":2093,"next":"196","previous":"194"},"196":{"x":1937,"y":2112,"next":"197","previous":"195"},"197":{"x":1951,"y":2145,"next":"198","previous":"196"},"198":{"x":1957,"y":2186,"next":"199","previous":"197"},"199":{"x":1940,"y":2229,"next":"200","previous":"198"},"200":{"x":1929,"y":2272,"next":"201","previous":"199"},"201":{"x":1931,"y":2310,"next":"202","previous":"200"},"202":{"x":1943,"y":2351,"next":"203","previous":"201"},"203":{"x":1947,"y":2417,"next":"204","previous":"202"},"204":{"x":1931,"y":2460,"next":"205","previous":"203"},"205":{"x":1922,"y":2500,"next":-1,"previous":"204"},"206":{"x":1568,"y":2500,"next":"207","previous":-1},"207":{"x":1553,"y":2450,"next":"208","previous":"206"},"208":{"x":1530,"y":2417,"next":"209","previous":"207"},"209":{"x":1519,"y":2358,"next":"210","previous":"208"},"210":{"x":1533,"y":2301,"next":"211","previous":"209"},"211":{"x":1513,"y":2251,"next":"212","previous":"210"},"212":{"x":1460,"y":2222,"next":"213","previous":"211"},"213":{"x":1452,"y":2179,"next":"214","previous":"212"},"214":{"x":1457,"y":2139,"next":"215","previous":"213"},"215":{"x":1481,"y":2114,"next":"216","previous":"214"},"216":{"x":1518,"y":2085,"next":"217","previous":"215"},"217":{"x":1564,"y":2069,"next":"218","previous":"216"},"218":{"x":1647,"y":2058,"next":"184","previous":"217"},"219":{"x":1536,"y":2189,"next":220,"previous":224},"220":{"x":1583,"y":2242,"next":221,"previous":219},"221":{"x":1657,"y":2259,"next":222,"previous":220},"222":{"x":1724,"y":2212,"next":223,"previous":221},"223":{"x":1702,"y":2132,"next":224,"previous":222},"224":{"x":1600,"y":2117,"next":219,"previous":223}};
    addWallShape(0, TH.floorY * 2, 0, shortHeight, bridge2, shortWalls, true);
    addWallShape(0, 0, 0, shortHeight, cave4, shortWalls, true);
    var bridge2Floor = {"125":{"x":1849,"y":1503,"next":"163","previous":"127"},"127":{"x":1758,"y":1447,"next":"125","previous":"171"},"163":{"x":1827,"y":1532,"next":"164","previous":"125"},"164":{"x":1825,"y":1560,"next":"165","previous":"163"},"165":{"x":1836,"y":1587,"next":"166","previous":"164"},"166":{"x":1858,"y":1616,"next":"167","previous":"165"},"167":{"x":1859,"y":1643,"next":"173","previous":"166"},"168":{"x":1774,"y":1647,"next":"169","previous":"191"},"169":{"x":1762,"y":1604,"next":"170","previous":"168"},"170":{"x":1750,"y":1559,"next":"171","previous":"169"},"171":{"x":1761,"y":1511,"next":"127","previous":"170"},"173":{"x":1851,"y":1683,"next":"174","previous":"167"},"174":{"x":1827,"y":1713,"next":"175","previous":"173"},"175":{"x":1786,"y":1748,"next":"176","previous":"174"},"176":{"x":1768,"y":1781,"next":"177","previous":"175"},"177":{"x":1769,"y":1815,"next":"178","previous":"176"},"178":{"x":1790,"y":1853,"next":"179","previous":"177"},"179":{"x":1801,"y":1881,"next":"180","previous":"178"},"180":{"x":1784,"y":1919,"next":"181","previous":"179"},"181":{"x":1760,"y":1950,"next":"182","previous":"180"},"182":{"x":1743,"y":1980,"next":"183","previous":"181"},"183":{"x":1737,"y":2023,"next":"192","previous":"182"},"184":{"x":1668,"y":2024,"next":"185","previous":"218"},"185":{"x":1672,"y":1969,"next":"186","previous":"184"},"186":{"x":1693,"y":1930,"next":"187","previous":"185"},"187":{"x":1720,"y":1877,"next":"188","previous":"186"},"188":{"x":1712,"y":1823,"next":"189","previous":"187"},"189":{"x":1703,"y":1779,"next":"190","previous":"188"},"190":{"x":1719,"y":1730,"next":"191","previous":"189"},"191":{"x":1749,"y":1695,"next":"168","previous":"190"},"192":{"x":1757,"y":2054,"next":"193","previous":"183"},"193":{"x":1785,"y":2076,"next":"218","previous":"192"},"218":{"x":1624,"y":2057,"next":"184","previous":"193"}};
    var cave4Floor = {"183":{"x":1737,"y":2023,"next":"192","previous":"184"},"184":{"x":1668,"y":2024,"next":"183","previous":"218"},"192":{"x":1740,"y":2063,"next":"193","previous":"183"},"193":{"x":1785,"y":2076,"next":"194","previous":"192"},"194":{"x":1839,"y":2083,"next":"195","previous":"193"},"195":{"x":1892,"y":2093,"next":"196","previous":"194"},"196":{"x":1937,"y":2112,"next":"197","previous":"195"},"197":{"x":1951,"y":2145,"next":"198","previous":"196"},"198":{"x":1957,"y":2186,"next":"199","previous":"197"},"199":{"x":1940,"y":2229,"next":"200","previous":"198"},"200":{"x":1929,"y":2272,"next":"201","previous":"199"},"201":{"x":1931,"y":2310,"next":"202","previous":"200"},"202":{"x":1943,"y":2351,"next":"203","previous":"201"},"203":{"x":1947,"y":2417,"next":"204","previous":"202"},"204":{"x":1931,"y":2460,"next":"205","previous":"203"},"205":{"x":1922,"y":2500,"next":"206","previous":"204"},"206":{"x":1568,"y":2500,"next":"207","previous":"205"},"207":{"x":1553,"y":2450,"next":"208","previous":"206"},"208":{"x":1530,"y":2417,"next":"209","previous":"207"},"209":{"x":1519,"y":2358,"next":"210","previous":"208"},"210":{"x":1533,"y":2301,"next":"211","previous":"209"},"211":{"x":1513,"y":2251,"next":"212","previous":"210"},"212":{"x":1460,"y":2222,"next":"213","previous":"211"},"213":{"x":1452,"y":2179,"next":"214","previous":"212"},"214":{"x":1457,"y":2139,"next":"215","previous":"213"},"215":{"x":1481,"y":2114,"next":"216","previous":"214"},"216":{"x":1518,"y":2085,"next":"217","previous":"215"},"217":{"x":1564,"y":2069,"next":"218","previous":"216"},"218":{"x":1647,"y":2058,"next":"184","previous":"217"}};
    TH.addFloorFromPoints(0, TH.floorY, 0, bridge2Floor, 'floor.png');
    TH.addFloorFromPoints(0, TH.floorY, 0, cave4Floor, 'floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 0, cave4Floor, 'ceiling.png');
    var outerWalls2 = {"125":{"x":1849,"y":1503,"next":-1,"previous":"252"},"127":{"x":1758,"y":1447,"next":"253","previous":-1},"183":{"x":1737,"y":2023,"next":"192","previous":-1},"184":{"x":1668,"y":2024,"next":-1,"previous":"218"},"192":{"x":1768,"y":2047,"next":"193","previous":"183"},"193":{"x":1796,"y":2064,"next":"219","previous":"192"},"218":{"x":1618,"y":2043,"next":"184","previous":"270"},"219":{"x":1847,"y":2079,"next":"220","previous":"193"},"220":{"x":1908,"y":2068,"next":"221","previous":"219"},"221":{"x":1969,"y":2047,"next":"222","previous":"220"},"222":{"x":2023,"y":2057,"next":"223","previous":"221"},"223":{"x":2110,"y":2049,"next":"224","previous":"222"},"224":{"x":2138,"y":2024,"next":"225","previous":"223"},"225":{"x":2173,"y":1990,"next":"226","previous":"224"},"226":{"x":2214,"y":1979,"next":"227","previous":"225"},"227":{"x":2272,"y":1978,"next":"228","previous":"226"},"228":{"x":2307,"y":1999,"next":"229","previous":"227"},"229":{"x":2348,"y":2037,"next":"230","previous":"228"},"230":{"x":2375,"y":2073,"next":"231","previous":"229"},"231":{"x":2376,"y":2122,"next":"232","previous":"230"},"232":{"x":2427,"y":2122,"next":"233","previous":"231"},"233":{"x":2431,"y":2067,"next":"234","previous":"232"},"234":{"x":2427,"y":2014,"next":"235","previous":"233"},"235":{"x":2393,"y":1970,"next":"236","previous":"234"},"236":{"x":2370,"y":1925,"next":"237","previous":"235"},"237":{"x":2357,"y":1862,"next":"238","previous":"236"},"238":{"x":2331,"y":1812,"next":"239","previous":"237"},"239":{"x":2306,"y":1781,"next":"240","previous":"238"},"240":{"x":2307,"y":1721,"next":"241","previous":"239"},"241":{"x":2316,"y":1663,"next":"242","previous":"240"},"242":{"x":2334,"y":1630,"next":"243","previous":"241"},"243":{"x":2318,"y":1577,"next":"244","previous":"242"},"244":{"x":2290,"y":1537,"next":"245","previous":"243"},"245":{"x":2235,"y":1510,"next":"246","previous":"244"},"246":{"x":2172,"y":1508,"next":"247","previous":"245"},"247":{"x":2109,"y":1515,"next":"248","previous":"246"},"248":{"x":2068,"y":1529,"next":"249","previous":"247"},"249":{"x":2019,"y":1537,"next":"250","previous":"248"},"250":{"x":1970,"y":1533,"next":"251","previous":"249"},"251":{"x":1921,"y":1521,"next":"252","previous":"250"},"252":{"x":1881,"y":1506,"next":"125","previous":"251"},"253":{"x":1679,"y":1446,"next":"254","previous":"127"},"254":{"x":1646,"y":1438,"next":"255","previous":"253"},"255":{"x":1611,"y":1415,"next":"256","previous":"254"},"256":{"x":1558,"y":1410,"next":"257","previous":"255"},"257":{"x":1524,"y":1421,"next":"258","previous":"256"},"258":{"x":1499,"y":1450,"next":"259","previous":"257"},"259":{"x":1497,"y":1489,"next":"260","previous":"258"},"260":{"x":1507,"y":1540,"next":"261","previous":"259"},"261":{"x":1524,"y":1598,"next":"262","previous":"260"},"262":{"x":1539,"y":1658,"next":"263","previous":"261"},"263":{"x":1533,"y":1698,"next":"264","previous":"262"},"264":{"x":1502,"y":1752,"next":"265","previous":"263"},"265":{"x":1517,"y":1809,"next":"266","previous":"264"},"266":{"x":1547,"y":1851,"next":"267","previous":"265"},"267":{"x":1571,"y":1901,"next":"268","previous":"266"},"268":{"x":1569,"y":1941,"next":"269","previous":"267"},"269":{"x":1552,"y":1985,"next":"270","previous":"268"},"270":{"x":1565,"y":2030,"next":"218","previous":"269"}};
    addWallShape(0, 0, 0, tallHeight, outerWalls2, tallWalls, true);
    var outerFloor2 = {"125":{"x":1849,"y":1503,"next":"127","previous":"252"},"127":{"x":1758,"y":1447,"next":"253","previous":"125"},"183":{"x":1737,"y":2023,"next":"192","previous":"184"},"184":{"x":1668,"y":2024,"next":"183","previous":"218"},"192":{"x":1768,"y":2047,"next":"193","previous":"183"},"193":{"x":1796,"y":2064,"next":"219","previous":"192"},"218":{"x":1618,"y":2043,"next":"184","previous":"270"},"219":{"x":1847,"y":2079,"next":"220","previous":"193"},"220":{"x":1908,"y":2068,"next":"221","previous":"219"},"221":{"x":1969,"y":2047,"next":"222","previous":"220"},"222":{"x":2023,"y":2057,"next":"223","previous":"221"},"223":{"x":2110,"y":2049,"next":"224","previous":"222"},"224":{"x":2138,"y":2024,"next":"225","previous":"223"},"225":{"x":2173,"y":1990,"next":"226","previous":"224"},"226":{"x":2214,"y":1979,"next":"227","previous":"225"},"227":{"x":2272,"y":1978,"next":"228","previous":"226"},"228":{"x":2307,"y":1999,"next":"229","previous":"227"},"229":{"x":2348,"y":2037,"next":"230","previous":"228"},"230":{"x":2375,"y":2073,"next":"231","previous":"229"},"231":{"x":2376,"y":2122,"next":"232","previous":"230"},"232":{"x":2427,"y":2122,"next":"233","previous":"231"},"233":{"x":2431,"y":2067,"next":"234","previous":"232"},"234":{"x":2427,"y":2014,"next":"235","previous":"233"},"235":{"x":2393,"y":1970,"next":"236","previous":"234"},"236":{"x":2370,"y":1925,"next":"237","previous":"235"},"237":{"x":2357,"y":1862,"next":"238","previous":"236"},"238":{"x":2331,"y":1812,"next":"239","previous":"237"},"239":{"x":2306,"y":1781,"next":"240","previous":"238"},"240":{"x":2307,"y":1721,"next":"241","previous":"239"},"241":{"x":2316,"y":1663,"next":"242","previous":"240"},"242":{"x":2334,"y":1630,"next":"243","previous":"241"},"243":{"x":2318,"y":1577,"next":"244","previous":"242"},"244":{"x":2290,"y":1537,"next":"245","previous":"243"},"245":{"x":2235,"y":1510,"next":"246","previous":"244"},"246":{"x":2172,"y":1508,"next":"247","previous":"245"},"247":{"x":2109,"y":1515,"next":"248","previous":"246"},"248":{"x":2068,"y":1529,"next":"249","previous":"247"},"249":{"x":2019,"y":1537,"next":"250","previous":"248"},"250":{"x":1970,"y":1533,"next":"251","previous":"249"},"251":{"x":1921,"y":1521,"next":"252","previous":"250"},"252":{"x":1881,"y":1506,"next":"125","previous":"251"},"253":{"x":1679,"y":1446,"next":"254","previous":"127"},"254":{"x":1646,"y":1438,"next":"255","previous":"253"},"255":{"x":1611,"y":1415,"next":"256","previous":"254"},"256":{"x":1558,"y":1410,"next":"257","previous":"255"},"257":{"x":1524,"y":1421,"next":"258","previous":"256"},"258":{"x":1499,"y":1450,"next":"259","previous":"257"},"259":{"x":1497,"y":1489,"next":"260","previous":"258"},"260":{"x":1507,"y":1540,"next":"261","previous":"259"},"261":{"x":1524,"y":1598,"next":"262","previous":"260"},"262":{"x":1539,"y":1658,"next":"263","previous":"261"},"263":{"x":1533,"y":1698,"next":"264","previous":"262"},"264":{"x":1502,"y":1752,"next":"265","previous":"263"},"265":{"x":1517,"y":1809,"next":"266","previous":"264"},"266":{"x":1547,"y":1851,"next":"267","previous":"265"},"267":{"x":1571,"y":1901,"next":"268","previous":"266"},"268":{"x":1569,"y":1941,"next":"269","previous":"267"},"269":{"x":1552,"y":1985,"next":"270","previous":"268"},"270":{"x":1565,"y":2030,"next":"218","previous":"269"}};
    TH.addFloorFromPoints(0, TH.floorY * 3, 0, outerFloor2, 'ceiling.png');
    TH.addFloorFromPoints(0, TH.floorY * -3, 0, outerFloor2, 'ceiling.png');
    var upperWalls2 = {"125":{"x":1849,"y":1503,"next":-1,"previous":"127"},"127":{"x":1758,"y":1447,"next":"125","previous":-1},"183":{"x":1737,"y":2023,"next":-1,"previous":"184"},"184":{"x":1668,"y":2024,"next":"183","previous":-1}};
    addWallShape(0, TH.floorY * -2, 0, shortHeight, upperWalls2, shortWalls, false);
    var pillar2 = {"271":{"x":2149,"y":1587,"next":272,"previous":277},"272":{"x":2112,"y":1613,"next":273,"previous":271},"273":{"x":2108,"y":1656,"next":274,"previous":272},"274":{"x":2134,"y":1701,"next":275,"previous":273},"275":{"x":2185,"y":1704,"next":276,"previous":274},"276":{"x":2217,"y":1684,"next":277,"previous":275},"277":{"x":2215,"y":1618,"next":271,"previous":276}};
    addWallShape(0, 0, 0, tallHeight, pillar2, tallWalls, false);
    for (var x = 1400; x < 2400; x += 70)
        for (var z = 1400; z < 2000; z += 70)
            addStalagtite(x + 100 - Math.random() * 50, 75, z + 100 - Math.random() * 50);
    for (var z = 1600; z < 2000; z += 70)
        addSlug(1650, -85, z);
    for (var x = 2000; x < 2200; x += 70)
        for (var z = 1600; z < 2000; z += 70)
            addSlug(x, -85, z);
}

function loadLevel3() {
    var shortHeight = 60;
    var tallHeight = shortHeight * 3;
    var shortMechWalls = ['mech_wall1.png', 'mech_wall2.png', 'mech_wall3.png', 'mech_wall4.png'];
    var tallMechWalls = ['tall_mech1.png', 'tall_mech2.png', 'tall_mech3.png'];
    var shortCaveWalls = ['cave_wall1.png', 'cave_wall2.png'];
    var mech1 = {"219":{"x":1568,"y":0,"next":-1,"previous":"222"},"221":{"x":1922,"y":0,"next":"223","previous":-1},"222":{"x":1546,"y":46,"next":"219","previous":"226"},"223":{"x":1936,"y":53,"next":"224","previous":"221"},"224":{"x":1976,"y":81,"next":"225","previous":"223"},"225":{"x":2000,"y":131,"next":"233","previous":"224"},"226":{"x":1523,"y":100,"next":"222","previous":"227"},"227":{"x":1528,"y":142,"next":"226","previous":"228"},"228":{"x":1528,"y":196,"next":"227","previous":"229"},"229":{"x":1496,"y":196,"next":"228","previous":"254"},"233":{"x":1985,"y":176,"next":"234","previous":"225"},"234":{"x":1985,"y":244,"next":"235","previous":"233"},"235":{"x":1985,"y":314,"next":"236","previous":"234"},"236":{"x":1930,"y":359,"next":"237","previous":"235"},"237":{"x":1930,"y":437,"next":"275","previous":"236"},"238":{"x":2077,"y":512,"next":"274","previous":"275"},"240":{"x":2077,"y":646,"next":"273","previous":"274"},"241":{"x":1529,"y":320,"next":"259","previous":"277"},"242":{"x":1416,"y":423,"next":"277","previous":-1},"243":{"x":1939,"y":736,"next":"272","previous":"273"},"244":{"x":1775,"y":736,"next":"245","previous":"272"},"245":{"x":1775,"y":784,"next":"253","previous":"244"},"246":{"x":1701,"y":784,"next":"247","previous":"250"},"247":{"x":1701,"y":734,"next":"269","previous":"246"},"248":{"x":1411,"y":734,"next":-1,"previous":"271"},"250":{"x":1701,"y":834,"next":"246","previous":"252"},"252":{"x":1914,"y":834,"next":"250","previous":"253"},"253":{"x":1914,"y":787,"next":"252","previous":"245"},"254":{"x":1496,"y":83,"next":"229","previous":"260"},"256":{"x":1434,"y":282,"next":"262","previous":"259"},"259":{"x":1529,"y":282,"next":"256","previous":"241"},"260":{"x":1347,"y":83,"next":"254","previous":"261"},"261":{"x":1347,"y":135,"next":"260","previous":"262"},"262":{"x":1433,"y":136,"next":"261","previous":"256"},"263":{"x":1845,"y":0,"next":"264","previous":"268"},"264":{"x":1845,"y":86,"next":"265","previous":"263"},"265":{"x":1884,"y":126,"next":"266","previous":"264"},"266":{"x":1884,"y":182,"next":"267","previous":"265"},"267":{"x":1798,"y":182,"next":"279","previous":"266"},"268":{"x":1798,"y":0,"next":"263","previous":"278"},"269":{"x":1635,"y":734,"next":"270","previous":"247"},"270":{"x":1564,"y":734,"next":"271","previous":"269"},"271":{"x":1494,"y":734,"next":"248","previous":"270"},"272":{"x":1856,"y":736,"next":"244","previous":"243"},"273":{"x":2008,"y":688,"next":"243","previous":"240"},"274":{"x":2077,"y":577,"next":"240","previous":"238"},"275":{"x":2005,"y":478,"next":"238","previous":"237"},"277":{"x":1478,"y":373,"next":"241","previous":"242"},"278":{"x":1798,"y":58,"next":"268","previous":"279"},"279":{"x":1798,"y":125,"next":"278","previous":"267"},"280":{"x":1582,"y":361,"next":281,"previous":293},"281":{"x":1656,"y":361,"next":282,"previous":280},"282":{"x":1735,"y":361,"next":283,"previous":281},"283":{"x":1735,"y":419,"next":289,"previous":282},"289":{"x":1735,"y":484,"next":301,"previous":283},"293":{"x":1527,"y":418,"next":280,"previous":294},"294":{"x":1469,"y":478,"next":293,"previous":295},"295":{"x":1469,"y":544,"next":294,"previous":296},"296":{"x":1534,"y":544,"next":295,"previous":299},"299":{"x":1599,"y":544,"next":296,"previous":300},"300":{"x":1662,"y":544,"next":299,"previous":301},"301":{"x":1734,"y":544,"next":300,"previous":289}};
    addWallShape(0, 0, 2500, shortHeight, mech1, shortMechWalls, true);
    var floor1 = {"219":{"x":1568,"y":0,"next":"221","previous":"222"},"221":{"x":1922,"y":0,"next":"223","previous":"219"},"222":{"x":1546,"y":46,"next":"219","previous":"226"},"223":{"x":1936,"y":53,"next":"224","previous":"221"},"224":{"x":1976,"y":81,"next":"225","previous":"223"},"225":{"x":2000,"y":131,"next":"233","previous":"224"},"226":{"x":1523,"y":100,"next":"222","previous":"227"},"227":{"x":1528,"y":142,"next":"226","previous":"228"},"228":{"x":1528,"y":196,"next":"227","previous":"229"},"229":{"x":1496,"y":196,"next":"228","previous":254},"233":{"x":1985,"y":176,"next":"234","previous":"225"},"234":{"x":1985,"y":244,"next":"235","previous":"233"},"235":{"x":1985,"y":314,"next":236,"previous":"234"},"236":{"x":1930,"y":359,"next":237,"previous":"235"},"237":{"x":1930,"y":437,"next":238,"previous":236},"238":{"x":2077,"y":512,"next":240,"previous":237},"240":{"x":2077,"y":646,"next":243,"previous":238},"241":{"x":1529,"y":320,"next":259,"previous":242},"242":{"x":1416,"y":423,"next":241,"previous":248},"243":{"x":1939,"y":736,"next":244,"previous":240},"244":{"x":1775,"y":736,"next":245,"previous":243},"245":{"x":1775,"y":784,"next":253,"previous":244},"246":{"x":1701,"y":784,"next":247,"previous":250},"247":{"x":1701,"y":734,"next":248,"previous":246},"248":{"x":1411,"y":734,"next":242,"previous":247},"250":{"x":1701,"y":834,"next":246,"previous":252},"252":{"x":1914,"y":834,"next":250,"previous":253},"253":{"x":1914,"y":787,"next":252,"previous":245},"254":{"x":1496,"y":83,"next":"229","previous":260},"256":{"x":1434,"y":282,"next":262,"previous":259},"259":{"x":1529,"y":282,"next":256,"previous":241},"260":{"x":1347,"y":83,"next":254,"previous":261},"261":{"x":1347,"y":135,"next":260,"previous":262},"262":{"x":1433,"y":136,"next":261,"previous":256}};
    TH.addFloorFromPoints(0, TH.floorY, 2500, floor1, 'mech_floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 2500, floor1, 'mech_ceiling.png');
    addAnimatedWall({x: 1698, y: 3250}, {x: 1778, y: 3250}, 0, 60, 'fan.png', 2, 1, 2, 300, true);
    addAnimatedWall({x: 1510, y: 2695}, {x: 1510, y: 2785}, 0, 60, 'fan.png', 2, 1, 2, 300, true);
    addAnimatedWall({x: 1925, y: 2500}, {x: 1845, y: 2500}, 0, 60, 'fan.png', 2, 1, 2, 300, true);
    addLamp(1600, 2500);
    addLamp(1770, 2500);
    var mech2 = {"242":{"x":1416,"y":423,"next":"308","previous":-1},"248":{"x":1411,"y":734,"next":-1,"previous":"334"},"308":{"x":1356,"y":423,"next":"309","previous":"242"},"309":{"x":1283,"y":423,"next":"310","previous":"308"},"310":{"x":1226,"y":423,"next":"311","previous":"309"},"311":{"x":1162,"y":423,"next":"312","previous":"310"},"312":{"x":1162,"y":343,"next":"313","previous":"311"},"313":{"x":1162,"y":267,"next":"318","previous":"312"},"318":{"x":1162,"y":172,"next":-1,"previous":"313"},"319":{"x":1081,"y":172,"next":"320","previous":-1},"320":{"x":1081,"y":265,"next":"321","previous":"319"},"321":{"x":1081,"y":346,"next":"322","previous":"320"},"322":{"x":1001,"y":346,"next":"323","previous":"321"},"323":{"x":1001,"y":435,"next":"324","previous":"322"},"324":{"x":911,"y":435,"next":"340","previous":"323"},"327":{"x":920,"y":731,"next":"328","previous":"338"},"328":{"x":1014,"y":731,"next":"329","previous":"327"},"329":{"x":1107,"y":731,"next":"330","previous":"328"},"330":{"x":1107,"y":799,"next":"331","previous":"329"},"331":{"x":1187,"y":799,"next":"332","previous":"330"},"332":{"x":1189,"y":736,"next":"333","previous":"331"},"333":{"x":1259,"y":736,"next":"334","previous":"332"},"334":{"x":1337,"y":735,"next":"248","previous":"333"},"336":{"x":761,"y":435,"next":"341","previous":"340"},"337":{"x":766,"y":733,"next":"338","previous":"342"},"338":{"x":843,"y":733,"next":"327","previous":"337"},"340":{"x":847,"y":434,"next":"336","previous":"324"},"341":{"x":699,"y":434,"next":-1,"previous":"336"},"342":{"x":699,"y":733,"next":"337","previous":-1},"343":{"x":1358,"y":518,"next":344,"previous":346},"344":{"x":1358,"y":608,"next":345,"previous":343},"345":{"x":1213,"y":608,"next":346,"previous":344},"346":{"x":1212,"y":518,"next":343,"previous":345}};
    addWallShape(0, 0, 2500, shortHeight, mech2, shortMechWalls, true);
    addAnimatedWall({x: 1160, y: 2780}, {x: 1080, y: 2780}, 0, 60, 'fan.png', 2, 1, 2, 300, true);
    var mech2Floor1 = {"242":{"x":1416,"y":423,"next":308,"previous":"248"},"248":{"x":1411,"y":734,"next":"242","previous":334},"308":{"x":1356,"y":423,"next":309,"previous":"242"},"309":{"x":1283,"y":423,"next":310,"previous":308},"310":{"x":1226,"y":423,"next":311,"previous":309},"311":{"x":1162,"y":423,"next":312,"previous":310},"312":{"x":1162,"y":343,"next":313,"previous":311},"313":{"x":1162,"y":267,"next":318,"previous":312},"318":{"x":1162,"y":172,"next":319,"previous":313},"319":{"x":1081,"y":172,"next":320,"previous":318},"320":{"x":1081,"y":265,"next":321,"previous":319},"321":{"x":1081,"y":346,"next":322,"previous":320},"322":{"x":1001,"y":346,"next":323,"previous":321},"323":{"x":1001,"y":435,"next":337,"previous":322},"328":{"x":1014,"y":731,"next":329,"previous":337},"329":{"x":1107,"y":731,"next":330,"previous":328},"330":{"x":1107,"y":799,"next":331,"previous":329},"331":{"x":1187,"y":799,"next":332,"previous":330},"332":{"x":1189,"y":736,"next":333,"previous":331},"333":{"x":1259,"y":736,"next":334,"previous":332},"334":{"x":1337,"y":735,"next":"248","previous":333},"337":{"x":1001,"y":732,"next":328,"previous":323}};
    TH.addFloorFromPoints(0, TH.floorY, 2500, mech2Floor1, 'mech_floor.png');
    var mech2Floor2 = {"323":{"x":1001,"y":435,"next":338,"previous":340},"338":{"x":1001,"y":523,"next":339,"previous":323},"339":{"x":847,"y":523,"next":340,"previous":338},"340":{"x":847,"y":434,"next":323,"previous":339}};
    TH.addFloorFromPoints(0, TH.floorY, 2500, mech2Floor2, 'mech_floor.png');
    var mech2Floor3 = {"337":{"x":1001,"y":732,"next":341,"previous":343},"341":{"x":1001,"y":649,"next":342,"previous":"337"},"342":{"x":847,"y":649,"next":343,"previous":341},"343":{"x":847,"y":732,"next":"337","previous":342}};
    TH.addFloorFromPoints(0, TH.floorY, 2500, mech2Floor3, 'mech_floor.png');
    var mech2Floor4 = {"340":{"x":847,"y":434,"next":341,"previous":343},"341":{"x":699,"y":434,"next":342,"previous":"340"},"342":{"x":699,"y":733,"next":343,"previous":341},"343":{"x":847,"y":732,"next":"340","previous":342}};
    TH.addFloorFromPoints(0, TH.floorY, 2500, mech2Floor4, 'mech_floor.png');
    var pit = {"338":{"x":1001,"y":523,"next":"341","previous":"339"},"339":{"x":847,"y":523,"next":"338","previous":"342"},"341":{"x":1001,"y":649,"next":"342","previous":"338"},"342":{"x":847,"y":649,"next":"339","previous":"341"}};
    addWallShape(0, TH.floorY * 2, 2500, shortHeight, pit, shortCaveWalls, true);
    TH.addFloorFromPoints(0, TH.floorY * 3, 2500, pit, 'mech_floor.png');
    var mech2Ceiling = {"242":{"x":1416,"y":423,"next":"308","previous":"248"},"248":{"x":1411,"y":734,"next":"242","previous":"334"},"308":{"x":1356,"y":423,"next":"309","previous":"242"},"309":{"x":1283,"y":423,"next":"310","previous":"308"},"310":{"x":1226,"y":423,"next":"311","previous":"309"},"311":{"x":1162,"y":423,"next":"312","previous":"310"},"312":{"x":1162,"y":343,"next":"313","previous":"311"},"313":{"x":1162,"y":267,"next":"318","previous":"312"},"318":{"x":1162,"y":172,"next":"319","previous":"313"},"319":{"x":1081,"y":172,"next":"320","previous":"318"},"320":{"x":1081,"y":265,"next":"321","previous":"319"},"321":{"x":1081,"y":346,"next":"322","previous":"320"},"322":{"x":1001,"y":346,"next":"323","previous":"321"},"323":{"x":1001,"y":435,"next":"324","previous":"322"},"324":{"x":911,"y":435,"next":335,"previous":"323"},"327":{"x":920,"y":731,"next":"328","previous":338},"328":{"x":1014,"y":731,"next":"329","previous":"327"},"329":{"x":1107,"y":731,"next":"330","previous":"328"},"330":{"x":1107,"y":799,"next":"331","previous":"329"},"331":{"x":1187,"y":799,"next":"332","previous":"330"},"332":{"x":1189,"y":736,"next":"333","previous":"331"},"333":{"x":1259,"y":736,"next":"334","previous":"332"},"334":{"x":1337,"y":735,"next":"248","previous":"333"},"335":{"x":833,"y":435,"next":336,"previous":"324"},"336":{"x":761,"y":435,"next":"341","previous":335},"337":{"x":766,"y":733,"next":338,"previous":"342"},"338":{"x":843,"y":733,"next":"327","previous":337},"341":{"x":699,"y":434,"next":"342","previous":336},"342":{"x":699,"y":733,"next":337,"previous":"341"}};
    TH.addFloorFromPoints(0, -TH.floorY, 2500, mech2Ceiling, 'mech_ceiling.png');
    addLamp(1020, 3040);
    addLamp(1020, 3140);
    var mech3 = {"345":{"x":907,"y":2344,"next":346,"previous":-1},"346":{"x":907,"y":2262,"next":347,"previous":345},"347":{"x":990,"y":2262,"next":348,"previous":346},"348":{"x":990,"y":2172,"next":351,"previous":347},"351":{"x":1065,"y":2172,"next":352,"previous":348},"352":{"x":1122,"y":2173,"next":353,"previous":351},"353":{"x":1149,"y":2208,"next":354,"previous":352},"354":{"x":1213,"y":2208,"next":355,"previous":353},"355":{"x":1240,"y":2169,"next":357,"previous":354},"357":{"x":1325,"y":2169,"next":358,"previous":355},"358":{"x":1325,"y":2225,"next":359,"previous":357},"359":{"x":1325,"y":2273,"next":360,"previous":358},"360":{"x":1325,"y":2326,"next":361,"previous":359},"361":{"x":1380,"y":2326,"next":-1,"previous":360}};
    addWallShape(0, 0, 0, tallHeight, mech3, tallMechWalls, false);
    var mech3Floor = {"345":{"x":907,"y":2344,"next":346,"previous":367},"346":{"x":907,"y":2262,"next":347,"previous":345},"347":{"x":990,"y":2262,"next":348,"previous":346},"348":{"x":990,"y":2172,"next":351,"previous":347},"351":{"x":1065,"y":2172,"next":352,"previous":348},"352":{"x":1149,"y":2172,"next":353,"previous":351},"353":{"x":1149,"y":2208,"next":354,"previous":352},"354":{"x":1213,"y":2208,"next":355,"previous":353},"355":{"x":1213,"y":2169,"next":356,"previous":354},"356":{"x":1278,"y":2169,"next":357,"previous":355},"357":{"x":1325,"y":2169,"next":358,"previous":356},"358":{"x":1325,"y":2225,"next":359,"previous":357},"359":{"x":1325,"y":2273,"next":360,"previous":358},"360":{"x":1325,"y":2326,"next":361,"previous":359},"361":{"x":1380,"y":2326,"next":362,"previous":360},"362":{"x":1379,"y":2476,"next":367,"previous":361},"367":{"x":906,"y":2471,"next":345,"previous":362}};
    TH.addFloorFromPoints(0, TH.floorY * 3, 0, mech3Floor, 'mech_floor.png');
    TH.addFloorFromPoints(0, TH.floorY * -3, 0, mech3Floor, 'mech_ceiling.png');
    addScrap(1950, 2980);
    addScrap(2000, 3000);
    addScrap(1950, 3020);
    var mechMaze = {"341":{"x":699,"y":434,"next":"347","previous":-1},"342":{"x":699,"y":733,"next":-1,"previous":"358"},"347":{"x":699,"y":551,"next":"348","previous":"341"},"348":{"x":629,"y":551,"next":"349","previous":"347"},"349":{"x":556,"y":551,"next":"350","previous":"348"},"350":{"x":484,"y":551,"next":"362","previous":"349"},"358":{"x":699,"y":647,"next":"342","previous":"359"},"359":{"x":628,"y":647,"next":"358","previous":"360"},"360":{"x":552,"y":647,"next":"359","previous":"361"},"361":{"x":480,"y":647,"next":"360","previous":"390"},"362":{"x":484,"y":478,"next":"363","previous":"350"},"363":{"x":484,"y":411,"next":"364","previous":"362"},"364":{"x":484,"y":333,"next":"365","previous":"363"},"365":{"x":545,"y":333,"next":"366","previous":"364"},"366":{"x":609,"y":333,"next":"367","previous":"365"},"367":{"x":686,"y":333,"next":"368","previous":"366"},"368":{"x":763,"y":333,"next":"369","previous":"367"},"369":{"x":843,"y":333,"next":"370","previous":"368"},"370":{"x":843,"y":257,"next":"371","previous":"369"},"371":{"x":761,"y":257,"next":"372","previous":"370"},"372":{"x":761,"y":172,"next":"373","previous":"371"},"373":{"x":686,"y":172,"next":"374","previous":"372"},"374":{"x":607,"y":172,"next":"375","previous":"373"},"375":{"x":538,"y":172,"next":"376","previous":"374"},"376":{"x":480,"y":172,"next":"377","previous":"375"},"377":{"x":398,"y":172,"next":"378","previous":"376"},"378":{"x":327,"y":172,"next":"379","previous":"377"},"379":{"x":327,"y":102,"next":"380","previous":"378"},"380":{"x":265,"y":102,"next":"381","previous":"379"},"381":{"x":265,"y":176,"next":"382","previous":"380"},"382":{"x":265,"y":265,"next":"383","previous":"381"},"383":{"x":327,"y":265,"next":"384","previous":"382"},"384":{"x":398,"y":265,"next":"385","previous":"383"},"385":{"x":398,"y":338,"next":"386","previous":"384"},"386":{"x":398,"y":404,"next":"387","previous":"385"},"387":{"x":398,"y":482,"next":"388","previous":"386"},"388":{"x":398,"y":551,"next":"389","previous":"387"},"389":{"x":318,"y":551,"next":"392","previous":"388"},"390":{"x":399,"y":647,"next":"361","previous":"391"},"391":{"x":313,"y":647,"next":"390","previous":"401"},"392":{"x":318,"y":481,"next":"393","previous":"389"},"393":{"x":318,"y":406,"next":"394","previous":"392"},"394":{"x":255,"y":406,"next":"395","previous":"393"},"395":{"x":183,"y":406,"next":"396","previous":"394"},"396":{"x":122,"y":406,"next":"397","previous":"395"},"397":{"x":122,"y":476,"next":"398","previous":"396"},"398":{"x":122,"y":551,"next":"399","previous":"397"},"399":{"x":122,"y":638,"next":"400","previous":"398"},"400":{"x":122,"y":727,"next":-1,"previous":"399"},"401":{"x":240,"y":647,"next":"391","previous":"402"},"402":{"x":240,"y":561,"next":"401","previous":"403"},"403":{"x":240,"y":479,"next":"402","previous":"404"},"404":{"x":179,"y":479,"next":"403","previous":"405"},"405":{"x":179,"y":562,"next":"404","previous":"406"},"406":{"x":179,"y":643,"next":"405","previous":"407"},"407":{"x":179,"y":729,"next":"406","previous":-1},"408":{"x":483,"y":225,"next":409,"previous":411},"409":{"x":483,"y":271,"next":410,"previous":408},"410":{"x":550,"y":271,"next":411,"previous":409},"411":{"x":549,"y":225,"next":408,"previous":410},"412":{"x":614,"y":226,"next":413,"previous":415},"413":{"x":614,"y":273,"next":414,"previous":412},"414":{"x":689,"y":273,"next":415,"previous":413},"415":{"x":689,"y":226,"next":412,"previous":414}};
    var mechMazeFloor = {"347":{"x":699,"y":551,"next":348,"previous":358},"348":{"x":629,"y":551,"next":349,"previous":347},"349":{"x":556,"y":551,"next":350,"previous":348},"350":{"x":484,"y":551,"next":362,"previous":349},"358":{"x":699,"y":647,"next":347,"previous":359},"359":{"x":628,"y":647,"next":358,"previous":360},"360":{"x":552,"y":647,"next":359,"previous":361},"361":{"x":480,"y":647,"next":360,"previous":390},"362":{"x":484,"y":478,"next":363,"previous":350},"363":{"x":484,"y":411,"next":364,"previous":362},"364":{"x":484,"y":333,"next":365,"previous":363},"365":{"x":545,"y":333,"next":366,"previous":364},"366":{"x":609,"y":333,"next":367,"previous":365},"367":{"x":686,"y":333,"next":368,"previous":366},"368":{"x":763,"y":333,"next":369,"previous":367},"369":{"x":843,"y":333,"next":370,"previous":368},"370":{"x":843,"y":257,"next":371,"previous":369},"371":{"x":761,"y":257,"next":372,"previous":370},"372":{"x":761,"y":172,"next":373,"previous":371},"373":{"x":686,"y":172,"next":374,"previous":372},"374":{"x":607,"y":172,"next":375,"previous":373},"375":{"x":538,"y":172,"next":376,"previous":374},"376":{"x":480,"y":172,"next":377,"previous":375},"377":{"x":398,"y":172,"next":378,"previous":376},"378":{"x":327,"y":172,"next":379,"previous":377},"379":{"x":327,"y":102,"next":380,"previous":378},"380":{"x":265,"y":102,"next":381,"previous":379},"381":{"x":265,"y":176,"next":382,"previous":380},"382":{"x":265,"y":265,"next":383,"previous":381},"383":{"x":327,"y":265,"next":384,"previous":382},"384":{"x":398,"y":265,"next":385,"previous":383},"385":{"x":398,"y":338,"next":386,"previous":384},"386":{"x":398,"y":404,"next":387,"previous":385},"387":{"x":398,"y":482,"next":388,"previous":386},"388":{"x":398,"y":551,"next":389,"previous":387},"389":{"x":318,"y":551,"next":392,"previous":388},"390":{"x":399,"y":647,"next":361,"previous":391},"391":{"x":313,"y":647,"next":390,"previous":401},"392":{"x":318,"y":481,"next":393,"previous":389},"393":{"x":318,"y":406,"next":394,"previous":392},"394":{"x":255,"y":406,"next":395,"previous":393},"395":{"x":183,"y":406,"next":396,"previous":394},"396":{"x":122,"y":406,"next":397,"previous":395},"397":{"x":122,"y":476,"next":398,"previous":396},"398":{"x":122,"y":551,"next":399,"previous":397},"399":{"x":122,"y":638,"next":400,"previous":398},"400":{"x":122,"y":727,"next":407,"previous":399},"401":{"x":240,"y":647,"next":391,"previous":402},"402":{"x":240,"y":561,"next":401,"previous":403},"403":{"x":240,"y":479,"next":402,"previous":404},"404":{"x":179,"y":479,"next":403,"previous":405},"405":{"x":179,"y":562,"next":404,"previous":406},"406":{"x":179,"y":643,"next":405,"previous":407},"407":{"x":179,"y":729,"next":406,"previous":400}};
    addWallShape(0, 0, 2500, shortHeight, mechMaze, shortMechWalls, true);
    TH.addFloorFromPoints(0, TH.floorY, 2500, mechMazeFloor, 'mech_floor.png');
    TH.addFloorFromPoints(0, -TH.floorY, 2500, mechMazeFloor, 'mech_ceiling.png');
    var pipePoints = [[1660, 2700], [750, 3140], [920, 3010], [1520, 2890], [1740, 2940], [1630, 3060], [1660, 3180], [1420, 3180], [1370, 3030], [710, 3200], [770, 2950], [1785, 2630], [1700, 2840], [2060, 3040], [1860, 3220], [1320, 3120], [1260, 3150], [1290, 3220], [1220, 2940], [1010, 2890], [670, 3130], [660, 3070], [630, 3080], [550, 3060], [540, 3070], [610, 3120], [550, 3110], [520, 3130], [490, 3100], [480, 3070], [470, 3130], [440, 3080], [450, 3110], [420, 3135], [410, 3060], [380, 3115], [365, 3130], [360, 3070], [340, 3075], [300, 3100], [325, 3120], [300, 3130], [290, 3120], [460, 3030], [420, 3030], [410, 3000], [470, 2980], [475, 2970], [410, 2970], [425, 2940]]
    pipePoints.forEach(function(point) {addPipe(point[0], point[1])});
    addScrap(390, 3075);
    addScrap(440, 3020);
}
